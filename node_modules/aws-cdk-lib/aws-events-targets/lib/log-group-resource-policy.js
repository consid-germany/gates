"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogGroupResourcePolicy=void 0;var iam=()=>{var tmp=require("../../aws-iam");return iam=()=>tmp,tmp},cdk=()=>{var tmp=require("../../core");return cdk=()=>tmp,tmp},cr=()=>{var tmp=require("../../custom-resources");return cr=()=>tmp,tmp};class LogGroupResourcePolicy extends cr().AwsCustomResource{constructor(scope,id,props){const policyDocument=new(iam()).PolicyDocument({statements:props.policyStatements});let policyName=props.policyName||cdk().Lazy.string({produce:()=>cdk().Names.uniqueId(this)});super(scope,id,{resourceType:"Custom::CloudwatchLogResourcePolicy",onUpdate:{service:"CloudWatchLogs",action:"putResourcePolicy",parameters:{policyName,policyDocument:JSON.stringify(policyDocument)},physicalResourceId:cr().PhysicalResourceId.of(id)},installLatestAwsSdk:props.installLatestAwsSdk,onDelete:{service:"CloudWatchLogs",action:"deleteResourcePolicy",parameters:{policyName},ignoreErrorCodesMatching:"ResourceNotFoundException"},policy:cr().AwsCustomResourcePolicy.fromSdkCalls({resources:cr().AwsCustomResourcePolicy.ANY_RESOURCE})})}}exports.LogGroupResourcePolicy=LogGroupResourcePolicy;
